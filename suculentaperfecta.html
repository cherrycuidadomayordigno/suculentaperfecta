<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>¿Qué suculenta necesitas?</title>
  <style>
    body { font-family: sans-serif; background: #f5f5f5; margin: 0; padding: 0; }
    .container { max-width: 520px; margin: 40px auto; background: #fff; padding: 2em; border-radius: 16px; box-shadow: 0 4px 16px #0002; }
    h1, h2 { text-align: center; color: #357876; }
    label { display: block; margin-top: 1.5em; font-weight: bold; }
    select, button { width: 100%; padding: 0.7em; margin-top: 0.5em; border-radius: 6px; border: 1px solid #ccc; }
    button { background: #357876; color: #fff; font-size: 1.1em; font-weight: bold; cursor: pointer; margin-top: 2em;}
    .field { margin-bottom: 1.2em; }
    .all-succulents { margin: 3em 0 0 0; }
    .succulent-list { display: flex; flex-wrap: wrap; gap: 2em; justify-content: center; }
    .succulent-card { background: #fff; border-radius: 12px; box-shadow: 0 2px 8px #0001; padding: 1em; width: 230px; margin-bottom: 2em; display: flex; flex-direction: column; align-items: center;}
    .succulent-card img { max-width: 180px; border-radius: 7px; margin-bottom: 0.8em;}
    .succulent-card h3 { margin: 0.6em 0 0.4em 0; color: #357876; font-size: 1.1em;}
    .succulent-card p { font-size: 0.98em; color: #333; text-align: center;}
    .result { background: #e7f9f5; padding: 1.5em; border-radius: 12px; margin: 3em auto 2em auto; max-width: 520px; }
    .suculenta-img { max-width: 100%; border-radius: 7px; margin: 1em 0; }
    .conclusion { margin-top: 1em; font-size: 1.08em;}
  </style>
</head>
<body>
  <div class="container">
    <h1>¿Qué suculenta necesitas?</h1>
    <form id="quizForm">
      <div class="field">
        <label for="zodiac">¿Cuál es tu signo zodiacal?</label>
        <select id="zodiac" required>
          <option value="">Selecciona tu signo</option>
          <option>Aries</option><option>Tauro</option><option>Géminis</option>
          <option>Cáncer</option><option>Leo</option><option>Virgo</option>
          <option>Libra</option><option>Escorpio</option><option>Sagitario</option>
          <option>Capricornio</option><option>Acuario</option><option>Piscis</option>
        </select>
      </div>
      <div class="field">
        <label for="potenciar">¿Qué aspecto de tu vida te gustaría potenciar o equilibrar?</label>
        <select id="potenciar" required>
          <option value="">Selecciona una opción</option>
          <option>Amor propio</option><option>Claridad mental</option>
          <option>Creatividad</option><option>Protección</option>
          <option>Prosperidad</option><option>Relaciones</option>
          <option>Calma</option><option>Energía</option><option>Intuición</option>
        </select>
      </div>
      <div class="field">
        <label for="elemento">¿Con qué elemento te identificas más?</label>
        <select id="elemento" required>
          <option value="">Selecciona un elemento</option>
          <option>Agua</option><option>Fuego</option><option>Tierra</option><option>Aire</option>
        </select>
      </div>
      <div class="field">
        <label for="busca">¿Qué buscas en una planta?</label>
        <select id="busca" required>
          <option value="">Selecciona una opción</option>
          <option>Armonía</option><option>Energía</option><option>Calma</option>
          <option>Fuerza</option><option>Inspiración</option>
          <option>Belleza</option><option>Transformación</option>
        </select>
      </div>
      <div class="field">
        <label for="color">¿Qué color te atrae más?</label>
        <select id="color" required>
          <option value="">Selecciona un color</option>
          <option>Verde</option><option>Rosa</option><option>Amarillo</option>
          <option>Blanco</option><option>Violeta</option>
          <option>Naranja</option><option>Rojo</option>
        </select>
      </div>
      <div class="field">
        <label for="nivel">¿Prefieres trabajar tu energía a nivel…?</label>
        <select id="nivel" required>
          <option value="">Selecciona un nivel</option>
          <option>Emocional</option><option>Mental</option>
          <option>Espiritual</option><option>Físico</option>
        </select>
      </div>
      <button type="submit">Ver mi suculenta recomendada</button>
    </form>
  </div>

  <div class="container all-succulents">
    <h2>Todas las suculentas</h2>
    <div class="succulent-list" id="allSucculents"></div>
  </div>

  <div id="resultado-final"></div>

<script>
// Catálogo embebido (puedes agregar/quitar plantas aquí)
const succulents = [
  {
    "id": "cactus-cacahuete",
    "name": "El Cactus Cacahuete",
    "description": "(Echinopsis chamaecereus) Cactus de tallos delgados y agrupados. Es ideal para quienes buscan fuerza interior y protección. Su energía ayuda a mantenerte firme frente a retos y a sentirte seguro en tu espacio.",
    "photo": "fotos/cactus-cacahuete.jpg",
    "tags": ["protección", "persistencia", "energía"],
    "kabbalah": {
      "sefira": "Guevurá",
      "hebrew_letter": "Hei",
      "archetype": "Fuerza y protección",
      "intention": "Canalizar la energía y proteger",
      "element": "Fuego"
    },
    "astrology": {
      "zodiac_affinity": ["Aries", "Escorpio"],
      "planet": "Marte"
    }
  },
  {
    "id": "graptosedum-california-sunset",
    "name": "Graptosedum 'California Sunset'",
    "description": "Suculenta de tonos rosados y dorados. Favorece la armonía, la belleza y la transformación emocional. Es perfecta para quienes buscan equilibrio interior y potenciar su capacidad de adaptación.",
    "photo": "fotos/graptosedum.jpg",
    "tags": ["armonía", "transformación", "belleza"],
    "kabbalah": {
      "sefira": "Tiferet",
      "hebrew_letter": "Vav",
      "archetype": "Belleza y equilibrio",
      "intention": "Armonizar emociones y pensamientos",
      "element": "Aire"
    },
    "astrology": {
      "zodiac_affinity": ["Tauro", "Libra"],
      "planet": "Venus"
    }
  },
  {
    "id": "echeveria-elegans",
    "name": "Echeveria elegans",
    "description": "Símbolo de calma y claridad, ayuda a estabilizar emociones y abrir la mente a nuevas ideas. Recomendada para quienes quieren paz y serenidad en su entorno.",
    "photo": "fotos/echeveria-elegans.jpg",
    "tags": ["calma", "claridad", "armonía"],
    "kabbalah": {
      "sefira": "Yesod",
      "hebrew_letter": "Yud",
      "archetype": "Fundamento y estabilidad",
      "intention": "Aportar calma y claridad mental",
      "element": "Tierra"
    },
    "astrology": {
      "zodiac_affinity": ["Virgo", "Capricornio"],
      "planet": "Mercurio"
    }
  },
  {
    "id": "crassula-ovata",
    "name": "Crassula ovata (Árbol de jade)",
    "description": "Atrae prosperidad y buena fortuna. Energiza el espacio y favorece el crecimiento personal y el optimismo.",
    "photo": "fotos/crassula-ovata.jpg",
    "tags": ["prosperidad", "energía", "crecimiento"],
    "kabbalah": {
      "sefira": "Netzaj",
      "hebrew_letter": "Vav",
      "archetype": "Victoria y expansión",
      "intention": "Impulsar la prosperidad y el crecimiento",
      "element": "Tierra"
    },
    "astrology": {
      "zodiac_affinity": ["Tauro", "Sagitario"],
      "planet": "Venus"
    }
  }
];

function matchSucculent(user, succulents) {
  let filtered = succulents.filter(s =>
    s.tags?.some(tag => tag.toLowerCase() === user.potenciar.toLowerCase())
  );
  if (filtered.length > 1) {
    filtered = filtered.filter(s =>
      s.tags?.some(tag => tag.toLowerCase() === user.busca.toLowerCase())
    );
  }
  if (!filtered.length) {
    filtered = succulents.filter(s =>
      (s.kabbalah && s.kabbalah.element && s.kabbalah.element.toLowerCase() === user.elemento.toLowerCase())
    );
  }
  if (!filtered.length) {
    filtered = succulents.filter(s =>
      (s.astrology && s.astrology.zodiac_affinity && s.astrology.zodiac_affinity.map(z=>z.toLowerCase()).includes(user.zodiac.toLowerCase()))
    );
  }
  return filtered.length ? filtered[0] : succulents[0];
}

function getConclusion(user, sucu) {
  if (!sucu) return "No encontramos una suculenta exacta, pero todas aportan vida y energía positiva a tu espacio.";
  let base = "";
  switch(user.potenciar.toLowerCase()) {
    case "amor propio": base = "Esta suculenta puede ayudarte a reconectar con tu esencia y recordarte tu propio valor cada día."; break;
    case "claridad mental": base = "Su presencia favorece la tranquilidad y la claridad, ayudándote a tomar mejores decisiones."; break;
    case "prosperidad": base = "Atrae oportunidades y favorece la abundancia en tu entorno."; break;
    case "protección": base = "Te brinda una sensación de refugio y seguridad en tu hogar o espacio personal."; break;
    case "armonía": base = "Favorece el equilibrio y la buena energía en tu día a día."; break;
    case "energía": base = "Aporta vitalidad renovada y te inspira a avanzar con entusiasmo."; break;
    case "intuición": base = "Te ayuda a escuchar tu voz interior y a confiar en tus corazonadas."; break;
    case "relaciones": base = "Aporta dulzura y comprensión para fortalecer tus vínculos."; break;
    case "creatividad": base = "Estimula tu imaginación y te inspira a crear nuevas ideas."; break;
    case "calma": base = "Su energía serena te ayuda a encontrar paz y quietud interna."; break;
    case "transformación": base = "Te acompaña en los procesos de cambio, ayudando a que fluyas con confianza y optimismo."; break;
    default: base = "Esta suculenta aportará bienestar y equilibrio a tu vida.";
  }
  let nivelMsg = "";
  switch(user.nivel.toLowerCase()) {
    case "emocional": nivelMsg = "Ideal para equilibrar tus emociones y brindarte estabilidad interior."; break;
    case "mental": nivelMsg = "Perfecta para despejar tu mente y mantenerte enfocado."; break;
    case "espiritual": nivelMsg = "Te conecta con tu esencia y te acompaña en tu crecimiento personal."; break;
    case "físico": nivelMsg = "Aporta energía positiva y armoniza tu entorno físico."; break;
  }
  return `
    <div class="result">
      <h2>Tu suculenta recomendada</h2>
      <img src="${sucu.photo}" class="suculenta-img" alt="${sucu.name}">
      <strong>${sucu.name}</strong>
      <p>${sucu.description}</p>
      <div class="conclusion">
        ${base} ${nivelMsg}
      </div>
    </div>
  `;
}

function renderAllSucculents() {
  const cont = document.getElementById('allSucculents');
  cont.innerHTML = succulents.map(s =>
    `<div class="succulent-card">
      <img src="${s.photo}" alt="${s.name}">
      <h3>${s.name}</h3>
      <p>${s.description}</p>
    </div>`
  ).join('');
}
renderAllSucculents();

document.getElementById('quizForm').addEventListener('submit', function(e) {
  e.preventDefault();
  const user = {
    zodiac: document.getElementById('zodiac').value,
    potenciar: document.getElementById('potenciar').value,
    elemento: document.getElementById('elemento').value,
    busca: document.getElementById('busca').value,
    color: document.getElementById('color').value,
    nivel: document.getElementById('nivel').value
  };
  const sucu = matchSucculent(user, succulents);
  document.getElementById('resultado-final').innerHTML = getConclusion(user, sucu);
  document.getElementById('resultado-final').scrollIntoView({behavior: "smooth"});
});
</script>
</body>
</html>